let mapleader =" "
source ~/.config/vim/defaults.vim
set timeout
set undodir=~/.config/vim/undo// | set directory=~/.config/vim/swp//
set listchars=tab:>\ ,eol:$,space:_
set viminfo+=n~/.config/vim/viminfo
packadd cfilter

onoremap <tab> <esc>
vnoremap <tab> <esc>
inoremap <tab> <esc>
nnoremap <expr> <Leader>s (&hls ? ':set nohls<CR>' : ':set hls<CR>')
nnoremap <silent> <Leader>r :call system('/usr/local/bin/ctags -R')<CR>
nnoremap <Leader>d :call myfunctions#DiffSaved()<CR>
nnoremap K :grep! "\b<C-R><C-W>\b"<CR>:cw<CR>
nnoremap ]q :cnext<CR>
nnoremap [q :cprev<CR>

" Mac specific stuff here
set runtimepath=~/.config/vim,$VIMRUNTIME,~/.config/vim/after
set grepprg=rg\ --vimgrep\ --no-heading\ --smart-case

call plug#begin('~/.config/vim/plugged')
Plug 'junegunn/fzf'
Plug 'junegunn/fzf.vim'
Plug 'mbbill/undotree'
Plug 'joshdick/onedark.vim'
Plug 'sheerun/vim-polyglot'
Plug 'itchyny/lightline.vim'
Plug 'ap/vim-css-color'
Plug 'tpope/vim-repeat'
" Plug 'vim-latex/vim-latex'

" Text objects
Plug 'tpope/vim-commentary'
Plug 'tpope/vim-surround' " {verb}s{char}[replacement] ys{text object}{char}
Plug 'kana/vim-textobj-user'
Plug 'kana/vim-textobj-indent' "ii ai iI aI
Plug 'kana/vim-textobj-entire' "ae and ie, ie excludes extra whitespace
call plug#end()

nnoremap <Leader>f :Rg<CR>
nnoremap <Leader>t :Files<CR>
nnoremap <Leader>b :Buffers<CR>
nnoremap <Leader>u :UndotreeToggle<CR>

set noshowmode
let g:lightline = { 'colorscheme': 'onedark', }
colorscheme onedark
hi! Normal ctermbg=NONE guibg=NONE
hi! NonText ctermbg=NONE guibg=NONE
